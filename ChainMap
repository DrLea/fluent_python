# Пример использования ChainMap
from collections import ChainMap

# ChainMap позволяет логически объединить несколько словарей в одну цепочку поиска.
# Это удобно, когда нужно искать ключи последовательно в нескольких словарях,
# не делая при этом дополнительные копии или слияния.

dict1 = {'a': 1, 'b': 2}
dict2 = {'b': 20, 'c': 30}
chain = ChainMap(dict1, dict2)

# При обращении к 'b' он найдёт первое вхождение в dict1
print(chain['b'])  # 2 (а не 20, потому что dict1 идёт первым)

# Можно добавить ещё один словарь в начало
dict3 = {'a': 100, 'd': 4}
new_chain = chain.new_child(dict3)

print(new_chain['a'])  # 100, потому что теперь dict3 идёт первым в цепочке
print(new_chain.maps)  # [{'a': 100, 'd': 4}, {'a': 1, 'b': 2}, {'b': 20, 'c': 30}]
